(this.webpackJsonpintail=this.webpackJsonpintail||[]).push([[8],{126:function(e,t,n){},437:function(e,t,n){"use strict";n.r(t);var c=n(46),r=n(44),a=n(14),o=n(0),i=n(49),s=n.n(i),u=n(2),l=(n(126),n(76)),d=n(1);t.default=function(e){var t=e.user,n=t._id,i=t.token,f=Object(u.h)();f.state&&(n=f.state.user),Object(o.useEffect)((function(){f.state&&document.getElementById("diff-user").classList.add("remove")}),[f.state]);var j=Object(o.useState)({}),b=Object(a.a)(j,2),O=b[0],p=b[1],h=Object(o.useState)({}),g=Object(a.a)(h,2),v=g[0],m=g[1],y=Object(o.useState)(""),x=Object(a.a)(y,2),k=x[0],w=x[1],S=Object(o.useState)(""),E=Object(a.a)(S,2),N=E[0],P=E[1],C=[],D=[],J=function(e){m(Object(r.a)({},e,!0))},B=function(e){w(e.target.value)},A=function(e,t,r){if(P(e.target.innerText),e.key||"blur"===e.type){var a=O;a[t][r]=N;var o={id:n,key:t,remove:r,update:N,token:i};p(Object(c.a)({},a)),P(""),e.target.setAttribute("contentEditable","false"),s.a.patch("/api/todo",o).catch((function(e){return console.log(JSON.stringify(e.message))}))}};Object(o.useEffect)((function(){s.a.get("/api/todo",{params:{id:n}}).then((function(e){e.data?p(e.data):console.log("error")})).catch((function(e){return console.log(e)}))}),[n]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"boards-page",children:Object(d.jsxs)("div",{className:"boards",id:"diff-user",children:[Object.keys(O).map((function(e){return Object(d.jsxs)("div",{className:"board",children:[Object(d.jsxs)("h3",{children:[e,Object(d.jsx)("span",{onClick:function(){return function(e){var t=O,r={id:n,remove:e,token:i};s.a.patch("/api/todo",r).catch((function(e){return console.log(JSON.stringify(e.message))})),delete t[e],p(Object(c.a)({},t))}(e)},children:Object(d.jsx)(l.f,{})})]}),Object(d.jsxs)("div",{className:"content",children:[O[e].map((function(t,r){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{onDragStart:function(t){return function(e,t){C=[e,t]}(e,r)},onDrop:function(e){return function(e){e.preventDefault();var t=O;if(D[0]!==C[0])t[D[0]].splice(D[1],0,t[C[0]][C[1]]),t[C[0]].splice(C[1],1);else{if(C[1]===D[1])return!1;C[1]<D[1]?(t[D[0]].splice(D[1],0,t[C[0]][C[1]]),t[C[0]].splice(C[1],1)):C[1]>D[1]&&(t[D[0]].splice(D[1],0,t[C[0]][C[1]]),t[C[0]].splice(C[1]+1,1))}var r={id:n,from:[C[0],t[C[0]]],to:[D[0],t[D[0]]],token:i};s.a.patch("/api/todo",r).catch((function(e){return console.log(JSON.stringify(e.message))})),p(Object(c.a)({},t))}(e)},onDragOver:function(t){return function(e,t,n){D=[t,n],e.preventDefault()}(t,e,r)},children:[Object(d.jsx)("span",{onMouseDown:function(e){return e.target.parentElement.setAttribute("draggable","true")},children:"::"}),Object(d.jsx)("div",{suppressContentEditableWarning:!0,spellCheck:"false",onClick:function(e){f.state||e.target.setAttribute("contentEditable","true")},onFocus:function(t){return A(t,e,r)},onInput:function(t){return A(t,e,r)},onBlur:function(t){return A(t,e,r)},onKeyPress:function(t){"Enter"===t.key&&A(t,e,r)},children:t}),Object(d.jsx)("span",{onClick:function(){return function(e,t){var r=O,a={id:n,key:e,remove:O[e][t],token:i};r[e].splice(t,1),p(Object(c.a)({},r)),s.a.patch("/api/todo",a).catch((function(e){return console.log(JSON.stringify(e.message))}))}(e,r)},children:"X"})]},r)})})),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),void 0!==v[e]?Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",placeholder:"enter",value:k,onChange:B,autoComplete:"off",onKeyPress:function(t){"Enter"===t.key&&function(e){if(""===k)alert("type something");else{var t=O;t[e].push(k),m({}),p(Object(c.a)({},t));var r={id:n,key:e,add:k,token:i};s.a.patch("/api/todo",r).catch((function(e){return console.log(JSON.stringify(e.message))})),w("")}}(e)}})}):Object(d.jsx)("div",{className:"addBtn",onClick:function(){return J(e)},children:Object(d.jsx)(l.d,{})})]})]},e)})),Object(d.jsx)("div",{children:void 0!==v.addnewBoard?Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",name:"name",placeholder:"enter",value:k,onChange:B,autocomplete:"off",onKeyPress:function(e){"Enter"===e.key&&function(){if(""===k)alert("type something");else{var e={id:n,add:k,token:i};s.a.patch("/api/todo",e).then((function(e){var t;"taken"===e.data.message?alert("taken"):(t=Object(c.a)(Object(c.a)({},O),{},Object(r.a)({},k,[])),m({}),p(Object(c.a)({},t)),w(""))})).catch((function(e){return console.log(JSON.stringify(e.message))}))}}()}})}):Object(d.jsxs)("div",{className:"addBoardBtn",onClick:function(){return J("addnewBoard")},children:[Object(d.jsx)(l.b,{})," add new board"]})})]})}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{})]})}},44:function(e,t,n){"use strict";function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return c}))},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(44);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,c)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=8.67fa370e.chunk.js.map